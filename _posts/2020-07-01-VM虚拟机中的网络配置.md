---
layout:     post                    # 使用的布局（不需要改）
title:      VM虚拟机中的网络配置  # 标题 
subtitle:      #副标题
date:       2020-07-01         # 时间
author:     yanmie             # 作者
header-img: img/.jpg    ##标签这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               
    - 网络安全
  
---

vm中具有4种不同的网络模式。

其中vmware为我们提供了三种网络工作模式，它们分别是：Bridged（桥接模式）、NAT（网络地址转换模式）、Host-Only（仅主机模式）。
还有一种还是我们可以自定义的虚拟网络。自定义模式更具有扩展性，方便构建自定义网络。

![有4种不同的网络模式](https://s1.ax1x.com/2020/07/01/No0ctI.png)

## ***一、Bridged（桥接模式）***

桥接模式就是将主机网卡与虚拟机虚拟的网卡利用虚拟网桥进行通信。在桥接的作用下，类似于把物理主机虚拟为一个交换机，所有桥接设置的虚拟机连接到这个交换机的一个接口上，物理主机也同样插在这个交换机当中，所以所有桥接下的网卡与网卡都是交换模式的，相互可以访问而不干扰。

桥接模式是一种比较常用的网络模式，用来设置虚拟机与主机具有同等的网络地位，前提是需要在动态分配ip地址网络中，如果在静态分配IP的网络中，需要手动设置对应的IP地址。

直接虚拟机 => 设置 => 网络适配器   即可选择对应模式。

设置好之后，通过 ping 检测网络问题。
先ping 咋们IT辅导官网试试。发现是可以 ping 通的，在 ping 主机试试也可以 ping 通。

![](https://s1.ax1x.com/2020/07/01/No0W1f.png) 

 能ping通外网ip，证明桥接模式设置成功。

那主机与虚拟机之间的通信是否正常呢？

从主机 ping 虚拟机，发现也可以 ping 通。

主机可以通过 ipconfig 命令查看ip, kali 虚拟机可以通过 ifconfig 查看 ip.

![](https://s1.ax1x.com/2020/07/01/No0fc8.png)


如果ping 不通，可以先检查一下防火墙设置。

## ***二、NAT（地址转换模式）***

如果你的网络ip资源紧缺，但是你又希望你的虚拟机能够联网，这时候NAT模式是最好的选择。NAT模式借助虚拟NAT设备和虚拟DHCP服务器，使得虚拟机可以联网。NAT网络地址转换，主机与虚拟机构成一个网络，虚拟机可以与主机以外的网络通信，但是主机以外的网络无法与虚拟机通信，例如： 局域网。

直接虚拟机 => 设置 => 网络适配器   即可选择NAT模式。

之后重启kali . 输入 ipconfig  命令，发现ip 已经变换。

![](https://s1.ax1x.com/2020/07/01/No05ng.png)


测试 ping 外部网络和主机 发现可以 png 通。（操作与第一种模式操作相同）
说明NAT模式设置成功。

然后主机 ping  kali虚拟机，发现也可以 png 通。

NAT模式相当于 主机与虚拟机构成了一个更小的网络，而不是虚拟机直接连接到主机这个网络里（如第一种模式）。所以外部网络是无法找到虚拟机的。

## ***三、Host-Only（仅主机模式）***

Host-Only模式其实就是NAT模式去除了虚拟NAT设备，然后使用VMware Network Adapter VMnet1虚拟网卡连接VMnet1虚拟交换机来与虚拟机通信的，Host-Only模式将虚拟机与外网隔开，使得虚拟机成为一个独立的系统，只与主机相互通讯.

直接虚拟机 => 设置 => 网络适配器   即可选择仅主机模式。

重启虚拟机发现IP 变化了，这时候继续 ping IT辅导官网，发现已经 ping 不通了。

![](https://s1.ax1x.com/2020/07/01/No0IBQ.png)


但是主机 ping 仅主机模式所用的 VMnet1 网卡，是可以ping通的。主机也可以 ping 通虚拟机。

以上就是关于vmware三种网络模式的工作原理及配置详解。
下一篇我们就分享VM 中网络配置第四种模式，构建自定义网络基础。