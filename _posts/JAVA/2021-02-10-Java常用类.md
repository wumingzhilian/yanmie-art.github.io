## 一、 Object 类

超类，基类，所有类的直接或间接父类，位于继承树的最顶层。

任何类，如没有书写 extends 显示继承某个类，都默认直接继承 Object 类，否则为简介继承。

#### 1.1 getClass

```java
public final class<?> getClass()
```

返回应用中存储的实际对象类型。

应用：通常用于判断两个引用实际存储对象类型是否一致。

Student.java

```java
package com.commonclass.object.demo01;

public class Student {
    private int age;

    public Student(int age) {
        this.age = age;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }
}
```

Teacher.java

```java
package com.commonclass.object.demo01;

public class Teacher {
    private int age;

    public Teacher(int age) {
        this.age = age;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }
}
```

Test.java

```java
package com.commonclass.object.demo01;

import com.sun.xml.internal.ws.api.model.wsdl.WSDLOutput;

public class Test {
    public static void main(String[] args) {
        Student s1 = new Student(10);
        Student s2 = new Student(11);
        Teacher s3 = new Teacher(20);
        Class class1 = s1.getClass();
        Class class2 = s2.getClass();
        Class class3 = s3.getClass();
        System.out.println(class1==class2);   // true
        System.out.println(class1==class3);   // false
    }
}
```

#### 1.2 hashCode

```java
public int hashCode()
```

返回对象的哈希码值。

还是上述的例子

Test.java

```java
package com.commonclass.object.demo01;

import com.sun.xml.internal.ws.api.model.wsdl.WSDLOutput;

public class Test {
    public static void main(String[] args) {
        Student s1 = new Student(10);
        Student s2 = new Student(11);
        Teacher s3 = new Teacher(20);
        // getClass 方法
        Class class1 = s1.getClass();
        Class class2 = s2.getClass();
        Class class3 = s3.getClass();
        System.out.println(class1==class2);   // true
        System.out.println(class1==class3);   // false
        // hashCode 方法
        System.out.println(s1.hashCode()+"---"+s2.hashCode());
        Student s4 = s1;
        System.out.println(s1.hashCode()==s4.hashCode());   // true
    }
}
```

#### 1.3 toString

```java
public String toString() {
     return getClass().getName() + "@" + Integer.toHexString(hashCode());
}
```

返回对象的字符串表示形式。适当情况可以重写该方法，

```java
//toString 方法
System.out.println(s1.toString());   // om.commonclass.object.demo01.Student@1b6d3586
System.out.println(s3.toString());   // com.commonclass.object.demo01.Teacher@74a14482
```

#### 1.4 equals

```java
public boolean equals(Object obj) {
     return (this == obj);
}
```

指示一些其他对象是否等于此对象。

```java
// equals 方法
System.out.println(s1.equals(s2));  // false
System.out.println(s1.equals(s4));  // true
```

#### 1.5 finalize

```java
protected void finalize() throws Throwable { }
```



当对象被判定为垃圾对象时，由 JVM 自动调用此方法，用以标记垃圾对象，进入回收队列。

* 垃圾对象：没有有效引用指向此对象时为垃圾对象
* 垃圾回收：由 GG 销毁垃圾对象，释放数据存储空间
* 自动回收机制：JVM 的内存耗尽，一次性回收所有垃圾对象
* 手动回收机制：使用 System.gc() ,通知 JVM 执行垃圾回收。

Student.java 重写方法

```java
 @Override
protected void finalize() throws Throwable {
     System.out.println(this.getClass()+"对象被回收");
}
```

Test.java

```java
 // finalize 方法
Student s5 = new Student(11);
System.gc();        // 没有回收 s5
System.out.println("------");
new Student(12);
System.gc();      // 被回收
System.out.println("--------");
```

## 二、包装类

#### 2.1 包装类概述

基本数据类型所对应的引用数据类型。

Object 可统一所有数据，包装类的默认值是 null 。

![image-20210210210156435](https://gitee.com/luo_fan_1/yanmie-art/raw/master/img/image-20210210210156435.png)

#### 2.2 类型转换与装箱、拆箱

```java
package com.commonclass.number;

public class Demo01 {
    public static void main(String[] args) {
        // 类型转换： 装箱，基本类型转成引用类型的过程
        int num1 = 10;
        Integer integer1 = new Integer(num1);
        System.out.println(integer1);                // 10
        Integer integer2 = Integer.valueOf(num1);
        System.out.println(integer2);               // 10

        // 类型转换： 拆箱，引用类型转成基本类型
        Integer integer3 = new Integer(100);
        int num2 = integer3.intValue();
        System.out.println(num2);          // 100
        System.out.println(integer3.getClass());  // class java.lang.Integer

        // JDK1.5 之后 Java 提供自动装箱与拆箱
        int num3 = 30;
        Integer integer4 = num3;
        int num4 = integer4;

    }
}
```

#### 2.3 基本类型和字符串转换

```java
        // 基本类型和字符串类型之间转换
        // 基本类型转字符串
        int n1 = 100;
        String s1  = n1+"";
        String s2 = Integer.toString(n1);
        System.out.println(s1.getClass());  // class java.lang.String
        System.out.println(s2.getClass());  // class java.lang.String
        // 字符串转基本类型
        String str = "150";
        int n2 = Integer.parseInt(str);
        System.out.println(n2);   // 150
        // 布尔字符串转成基本类型
        String str1 = "abc";
        boolean b1 = Boolean.parseBoolean(str1);
        System.out.println(b1);  // false
```

#### 2.4 Integer缓冲区

```java
package com.commonclass.number;

public class Demo02 {
    public static void main(String[] args) {
        Integer integer1 = new Integer(10);
        Integer integer2 = new Integer(10);
        System.out.println(integer1==integer2);  // false
        // 自动装箱
        Integer integer3 = 100;
        Integer integer4 = 100;
        System.out.println(integer3==integer4);  // true
        Integer integer5 = 500;
        Integer integer6 = 500;
        System.out.println(integer5==integer6);  // false
    }
}
```

那么为甚么自动装箱 100 为 true, 500 为 false呢。

反编译一下，可看到自动装箱使用了函数`Integer.valueOf()` .

```java
public static Integer valueOf(int i) {
     if (i >= IntegerCache.low && i <= IntegerCache.high)
         return IntegerCache.cache[i + (-IntegerCache.low)];
     return new Integer(i);
}
```

这里的 low=-128， high=127 ,就是这里的缓冲区导致的。500不在 -128 ~ 127 之间，所以会 `new Integer(i)`。

## 三、String 类

#### 3.1 String概述

字符串是常量，创建之后不可改变。

字符串字面值存储在字符串池中，可以共享。

```java
package com.commonclass.string;

public class Demo01 {
    public static void main(String[] args) {
        String s1 = "张三";  // 张三 常量存放在字符串池中
        System.out.println(s1.hashCode());  // 774889
        s1 = "李四";   // 给字符串赋值时，并不是修改张三为李四，而是重新开辟一个空间
        String s2 = "李四";   // 赋值时，首先会在字符串池中寻找有没有
        System.out.println(s1.hashCode());  // 842061
        System.out.println(s2.hashCode());  // 842061
        System.out.println(s1==s2);         // true
    }
}
```

#### 3.2 常用方法

* length()  返回字符串的长度
* charAt(int index)  返回索引处的字符
* contains(String str)  判断是否包含某个字符

```java
package com.commonclass.string;

public class Demo02 {
    public static void main(String[] args) {
        String s1 = "java,hello world!";
        System.out.println(s1.length());   // 17
        System.out.println(s1.charAt(0));  // j
        System.out.println(s1.contains("php"));  // false 
    }
}
```

* public char[] toCharArray()  将字符串转换成数组
* public int indexOf(String str)  返回指定字符传第一次出现的字符串内的索引，否则返回 -1 
* public int lastIndexOf(String str)  返回指定字符串最后一次出现的索引

```java
package com.commonclass.string;

import java.util.Arrays;

public class Demo03 {
    public static void main(String[] args) {
        String s1 = "java,hello world!";
        System.out.println(Arrays.toString(s1.toCharArray())); //[j, a, v, a, ,, h, e, l, l, o,  , w, o, r, l, d, !]
        System.out.println(s1.indexOf("v"));  // 2
        System.out.println(s1.lastIndexOf("a"));  // 3
    }
}
```

* public String trim(String str)  去掉字符串前后的空格
* public String toUpperCase()  将小写转成大写
* public boolean endWith(String str)  判断字符串是否以str结尾

```java
package com.commonclass.string;


public class Demo04 {
    public static void main(String[] args) {
        String s1 = "  java,hello world!   ";
        System.out.println(s1.trim());
        System.out.println(s1.toUpperCase());
        System.out.println(s1.toLowerCase());
        System.out.println(s1.trim().endsWith("world!"));  // true
    }
}
```

* public String replace(char oldChar,char newChar)   将旧字符替换成新字符
* public String[] split(String str)  根据 str 拆分

```java
package com.commonclass.string;

public class Demo05 {
    public static void main(String[] args) {
        String s1 = "  java,hello world!   ";
        System.out.println(s1.trim().replace("java","php"));  // php,hello world!
        System.out.println(s1.trim().split(" ")[0]);  // php,hello world!
    }
}
```

#### 3.3 可变字符串

- StringBuffer : 可变长字符串，运行效率慢、线程安全
- StringBuilder : 可边长字符串、运行快、线程不安全

效率都比String高且节省内存

```java

  // StringBuffer 和 StringBuilder 用法一致
  StringBuffer sb = new StringBuffer();
  // 1. append(); 追加
  sb.append("java no1");
  // 2. insert(); 添加、插入
  sb.insert(0, "在第一个位置插入");
  // 3.replace(); 替换
  sb.replace(0, 9, str); // 左闭右开
  // 4. delete(); 删除
  sb.delete(0, 5); // 左闭右开
  // 5. 清空
  sb.delete(0, sb.length());
```

## 四、BigDecimal 类

精度高

位置： java.math 包中

作用： 精确计算浮点数

创建方式： BigDecimal bd = new BigDecimal("1.0")

double 是近似存储

```java
package com.commonclass.bigdecimal;

public class Demo01 {
    public static void main(String[] args) {
        // double 存的近似值
        double d1 = 1.0;
        double d2 = 0.9;
        System.out.println(d1-d2);  // 0.09999999999999998

        double res = (1.4-0.5)/0.9;
        System.out.println(res);   // 0.9999999999999999
    }
}
```

```java
package com.commonclass.bigdecimal;

import java.math.BigDecimal;

public class Demo02 {
    public static void main(String[] args) {
        BigDecimal bd1 = new BigDecimal("1.0");
        BigDecimal bd2 = new BigDecimal("0.9");
        BigDecimal bd3 = bd1.subtract(bd2);
        System.out.println(bd3);   // 0.1
        BigDecimal bd4 = bd1.divide(new BigDecimal("2"));
        System.out.println(bd4);  // 0.5
    }
}
```

## 五、Date 类

Date 表示特定的瞬间，精确到毫秒。

Date 类中大部分方法都已经被 Calendar 类中的方法所取代。

```java
package com.commonclass.date;

import com.sun.scenario.effect.impl.sw.sse.SSEBlend_SRC_OUTPeer;

import java.util.Date;

public class Demo01 {
    public static void main(String[] args) {
        Date date1 = new Date();
        System.out.println(date1.toString());  // Thu Feb 11 10:24:03 CST 2021
        System.out.println(date1.toLocaleString());  // 过时的方式但仍可以用   2021-2-11 10:24:35
        Date date2 = new Date(date1.getTime()-60*60*24*1000);
        System.out.println(date2.toLocaleString());   // 昨天的时间  2021-2-10 10:26:18

        System.out.println(date1.after(date2));    // true
        System.out.println(date1.before(date2));   // false
        System.out.println(date1.equals(date2));   // false
    }
}

```

## 六、Calendar 类

Calendar 类提供了获取和设置各种日历字段的方法。

```java
package com.commonclass.calendar;

import java.util.Calendar;

public class Demo01 {
    public static void main(String[] args) {
        // 创建对象
        Calendar calendar1 = Calendar.getInstance();
        System.out.println(calendar1.getTime().toLocaleString());  // 2021-2-11 10:38:22
        // 获取时间信息
        int year = calendar1.get(Calendar.YEAR);
        int month = calendar1.get(Calendar.MONTH);
        int day = calendar1.get(Calendar.DAY_OF_MONTH);
        int hour = calendar1.get(Calendar.HOUR_OF_DAY);
        int minute = calendar1.get(Calendar.MINUTE);
        int second = calendar1.get(Calendar.SECOND);
        System.out.println(year+"年"+(month+1)+"月"+day+"日"+hour+"时"+minute+"分"+second+"秒"); // 2021年2月11日10时38分22秒
    }
}
```

## 七、SimpleDateFormat

SimpleDateFormat 是一个以与语言环境有关的方式来格式化和解析日期的具体类。

```java
package com.commonclass.simpledate;

import java.text.SimpleDateFormat;
import java.util.Date;

public class Demo01 {
    public static void main(String[] args) {
        SimpleDateFormat sdf  = new SimpleDateFormat("yyyy/mm/dd hh-mm-ss");
        Date date = new Date();
        String str = sdf.format(date);
        System.out.println(str);  // 2021/02/11 11-02-14
    }
}
```

## 八、System 类

System 系统类，主要用于获取系统的属性数据和其他操作，构造方法是私有的。

![image-20210211110809603](https://gitee.com/luo_fan_1/yanmie-art/raw/master/img/image-20210211110809603.png)

```java
package com.commonclass.system;

import java.sql.SQLSyntaxErrorException;

public class Demo01 {
    public static void main(String[] args) {
        int[] arr = {3,5,6,8,1,0};
        int[] dest = new int[8];
        System.arraycopy(arr,0,dest,0,arr.length);
        for (int i=0;i<arr.length;i++){
            System.out.println(dest[i]);
        }
    }
}
```









